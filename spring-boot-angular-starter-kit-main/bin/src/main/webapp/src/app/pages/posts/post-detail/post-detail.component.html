<mat-card class="post-card" appearance="outlined">
  <mat-card-header class="post-detail-mat-card-header">
    <mat-card-title>
      <p class="flex flex-align-center m-0 p-0">
        <a [routerLink]="previousUrl" class="primary flex flex-align-center">
          <mat-icon>arrow_back</mat-icon>
        </a>
        &nbsp;
        <span class="text-wrap">
          {{ post?.title }}
        </span>
      </p>
      <div>
        <button mat-icon-button color="warn" type="button" (click)="deletePost(post?.id)">
          <mat-icon>delete</mat-icon>
        </button>
        <a mat-icon-button aria-label="Edit a post" color="primary" [routerLink]="['/post/edit', post?.id]">
          <mat-icon>edit_square</mat-icon>
        </a>
      </div>
    </mat-card-title>
    <mat-card-subtitle>by {{ post?.author?.email }} <br>on {{ post?.publishedOn | date:'MMM dd, yyyy HH:mm' }}
    </mat-card-subtitle>
  </mat-card-header>

  <mat-card-content>
    <section>
      <p class="text-wrap">
        {{ post?.text }}
      </p>
      <ul class="gallery">
        <li><img width="768" height="576" src="data:image/jpeg;base64, {{ post?.imageCover }}" alt="{{ post?.title }}"
                 title="{{ post?.title }}" loading="lazy"/></li>
        @for (photo of post?.photoPosts; track photo.id) {
          <li><img width="768" height="576" src="data:image/jpeg;base64, {{ photo.image }}" alt="{{ post?.title }}"
                   title="{{ post?.title }}" loading="lazy"/></li>
        }
      </ul>
    </section>

    <section>
      <app-comment [post]="post"/>
    </section>
  </mat-card-content>
</mat-card>
